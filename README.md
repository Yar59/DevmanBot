# Бот для отправки уведомлений об изменении статуса работ на сервисе dvmn.org

Данный скрипт позволяет получать данные о проверке работ на сервисе [DEVMAN](https://dvmn.org/) 
и отправлять оповещения об изменениях в телеграмм-бот.

### Как установить

Для начала работы необходимо:
- Получить токен с сайта [dvmn.org](https://dvmn.org/api/docs/)
- Затем создать бота в TG [(Как создать канал, бота и получить токен.)](https://smmplanner.com/blog/otlozhennyj-posting-v-telegram/)
- Узнать свой id в телеграмм (можно узнать, написав боту @userinfobot)

Далее, в папке со скриптом необходимо создать файл `.env` и записать в него настройки в виде:
```
TG_TOKEN=токен Вашего бота в телеграм
SECOND_BOT=True/False использовать второго бота для отправки логов, по умолчанию False
TG_SERVICE_TOKEN=токен второго бота, который будет сообщать об ошибках в первом, необязательно, если предыдущая настройка False
DVMN_TOKEN=Ваш токен dvmn
CHAT_ID=Ваш id телеграмм
```

[Python3](https://www.python.org/downloads/) должен быть уже установлен. 
Затем используйте `pip` (или `pip3`, есть конфликт с Python2) для установки зависимостей:
```
pip install -r requirements.txt
```

### Запуск и использование
Для запуска бота необходимо ввести команду:
```
python main.py
```
Бот оповестит Вас, как только произойдут какие-либо изменения в Ваших работах.

### Альтернативный вариант запуска(Только для ОС Windows):

Запустить файл `dvmnBot.bat`

Также Вы можете добавить данный файл в автозагрузку для того чтобы бот запускался при запуске ПК.

Для этого:
- Создайте ярлык `dvmnBot.bat`, нажав на него правой кнопкой мыши и выбрав пункт "Создать ярлык"
- Нажмите клавишу с логотипом Windows + R, напечатайте shell:startup, затем нажмите ОК. Откроется папка Автозагрузка.
- Скопируйте и вставьте ярлык в папку автозагрузки

### Запуск с помощью Docker
- Зарегистрируйтесь на сайте и скачайте [Docker](https://www.docker.com/)
- Запустите создание образа командой `docker build --tag dvmn-bot-docker .`
- Нажмите кнопку 'run' в Docker Descktop, установите переменные окружения и запустите образ
- Или запустите контейнер с помощью команды `docker run --env-file .env dvmn-bot-docker`

### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org/).